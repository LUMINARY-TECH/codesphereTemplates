<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/style.css">
     <link rel="stylesheet" href="/ipadresponsiveness.css">
    <link rel="stylesheet" href="/responsive.css">
   
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="">
                    CodeSphere
                </a>
            </div>
            <div class="middle">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li>
                        <a>Explore <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdownmenu menu1">
                            <div class="links">
                                <a href="">Articles</a>
                                <a href="">Tutorials</a>
                                <a href="">Trending</a>
                                <a href="">AI Recs</a>
                            </div>
                        </div>
                    </li>
                    <li>
                        <a>Community <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdownmenu menu1">
                            <div class="links">
                                <a href="">Q&A Forum</a>
                                <a href="">Live Collab</a>
                                <a href="/events.html">Events</a>
                                <a href="">Mentorship</a>
                            </div>
                        </div>
                    </li>
                    <li>
                        <a>Groups <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdownmenu">
                            <h1>YOUR GROUPS</h1>
                            <hr>
                            <div class="links">
                                <a href="">
                                    <img src="/images/java-script.png" alt="">
                                    JavaScript Developers
                                </a>
                                <a href="">
                                    <img src="/images/python.png" alt="">
                                    Pythoniasts
                                </a>
                                <a href="">
                                    <img src="/images/artificial-intellegence.png" alt="">
                                    AI enthusiasts
                                </a>
                            </div>
                            <hr>
                            <h1>DISCOVER</h1>
                            <hr>
                            <div class="links">
                                <a href="/groups.html">
                                    <img src="/images/logo.png" alt="">
                                    Browse All
                                </a>
                                <a href="">
                                    <img src="/images/interface.png" alt="">
                                    Create New Group
                                </a>
                            </div>
                        </div>
                    </li>
                    <li><a href="">Jobs</a></li>
                </ul>
            </div>
            <div class="search">
                <form action="">
                    <span><i class="fas fa-search"></i></span>
                    <input type="text" placeholder="Search CodeSphere...">
                </form>
            </div>
            <div class="navright">
                <ul>
                    <li><a href=""><i class="fas fa-bookmark"></i></a></li>
                    <li><a href="">
                        <i class="fas fa-bell"></i>
                        <span></span>
                    </a></li>
                    <li>
                        <a><i class="fas fa-plus"></i></a>
                        <div class="dropdownmenu menu2">
                            <div class="links">
                                <a href="/newpost.html">New Post</a>
                                <a href="">Live Session</a>
                                <a href="">Challenge</a>
                            </div>
                        </div>
                    </li>
                    <li>
                        <a><img src="/images/user.png" alt=""></a>
                        <div class="dropdownmenu menu2">
                            <div class="links">
                                <a href="/profilepage.html">Your Profile</a>
                                <a href="/settings.html">Settings</a>
                                <a href="">Monetization</a>
                                <a href="/landingpage.html">Sign Out</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="toggle">
                <button class="togglebtn">
                    <div class="btnsdiv">
                        <div class="common span1"></div>
                        <div class="common span2"></div>
                        <div class="common span3"></div>
                    </div>
                </button>
            </div>
        </nav>
    </header>
    <!-- sidebar -->
    <div class="sidebar-container">
        <div class="sidebarmain">
            <div class="searchdiv">
                <form action="">
                    <span><i class="fas fa-search"></i></span>
                    <input type="text" placeholder="Search CodeSphere...">
                </form>
            </div>
            <div class="sidebar-menu">
                <a href="/">
                    <span><i class="fas fa-home mr-3"></i> Home</span>
                </a>
                <div class="group">
                    <a class="droptrigger">
                        <span><i class="fas fa-compass mr-3"></i> Explore</span>
                        <i class="fas fa-chevron-down drop"></i>
                    </a>
                    <div class="groupdrop">
                        <a href="">Articles</a>
                        <a href="">Tutorials</a>
                        <a href="">Trending</a>
                        <a href="">AI Recs</a>
                    </div>
                </div>
                <div class="group">
                    <a class="droptrigger">
                        <span><i class="fas fa-users"></i> Community</span>
                        <i class="fas fa-chevron-down drop"></i>
                    </a>
                    <div class="groupdrop">
                        <a href="">Q&A Forum</a>
                        <a href="">Live Collab</a>
                        <a href="/events.html">Events</a>
                        <a href="">Mentorship</a>
                    </div>
                </div>
                <div class="group">
                    <a class="droptrigger">
                        <span class="groupdiv"><img src="/images/groups.png" alt="">Groups</span>
                        <i class="fas fa-chevron-down drop"></i>
                    </a>
                    <div class="groupdrop">
                        <h1>YOUR GROUPS</h1>
                        <a href="">
                            <img src="/images/java-script.png" alt="">
                            Javascript Developers
                        </a>
                        <a href="">
                            <img src="/images/python.png" alt="">
                            Pythoniasts
                        </a>
                        <a href="">
                            <img src="/images/artificial-intellegence.png" alt="">
                            AI enthusiasts
                        </a>
                        <h1>DISCOVER</h1>
                        <a href="/groups.html">
                            <img src="/images/logo.png" alt="">
                            Browse All
                        </a>
                        <a href="">
                            <img src="/images/interface.png" alt="">
                            Create New
                        </a>
                    </div>
                </div>
                <a href="">
                    <span><i class="fas fa-briefcase"></i>Jobs</span>
                </a>
                <a href="">
                    <span><i class="fas fa-bookmark"></i>Bookmarks</span>
                </a>
                <a href="">
                    <span><i class="fas fa-bell"></i>Notifications</span>
                    <span class="notifications-span"></span>
                </a>
                <div class="group">
                    <a class="droptrigger">
                        <span><i class="fas fa-plus"></i> Create</span>
                        <i class="fas fa-chevron-down drop"></i>
                    </a>
                    <div class="groupdrop">
                        <a href="/newpost.html">New Post</a>
                        <a href="">Live Session</a>
                        <a href="">Challenge</a>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div class="sidebar-footer">
            <div class="sidebar-profile">
                <div class="prof">
                    <img src="/images/user.png" alt="">
                    <div class="profname">
                        <h2>Sarah Developer</h2>
                        <p>@sarahDev</p>
                    </div>
                </div>
                    <a href="/profilepage.html">Your Profile</a>
                    <a href="">Monetization</a>
                    <a href="/settings.html">Settings</a>
                    <a href="/landingpage.html">Sign Out</a>
            </div>
        </div>
    </div>

    <!-- main body -->

    <main>
        <section class="new-post">
            <div class="newpost-container">
                <div class="new-post-top">
                    <h1>Create New Post</h1>
                    <a href="">
                        <i class="fas fa-question-circle"></i>Help
                    </a>
                </div>
                <div class="new-post-body">
                    <form action="">
                        <!-- post title -->
                        <div class="new-post-input-container">
                            <label for="title">Title</label><br>
                            <input type="text" id="title" placeholder="What's your post about?">
                        </div>

                        <!-- group selection -->
                        <div class="new-post-input-container">
                            <label for="group-select">Post to Group(Optional)</label><br>
                            <select name="" id="group-select">
                                <option value="">Select a group...</option>
                                <option value="javascript">JavaScript Developers</option>
                                <option value="react">React Enthusiasts</option>
                                <option value="python">Pythonistas</option>
                                <option value="ai">AI Enthusiasts</option>
                            </select>
                            <div class="tagscontainer" id="selected-groups">

                            </div>
                        </div>
                        <!-- post banner -->
                        <div class="new-post-input-container">
                            <label>Post banner</label>
                            <div class="banner-box">
                                <label for="post-image" class="bannerlabel" onclick="loadUserImage()">
                                    <img src="/images/camera.png" alt="" >
                                </label><br>
                                <input type="file" id="post-image">
                                <img class="user-banner" src="" id="selected-image">
                            </div>
                        </div>
                        <!-- Post content -->
                         <div class="new-post-input-container">
                            <label for="content">Content</label><br>
                            <textarea name="" id="content" placeholder="Start writing your post here..."></textarea>
                         </div>
                        <!-- tags -->
                        <div class="new-post-input-container tag-container">
                            <label for="tags">Tags (max 5)</label>
                            <input type="text" id="tag-input" placeholder="Add tags...">
                            <div class="tagscontainer" id="tags-display">
                                <!-- <span>React<i class="fas fa-times"></i></span>
                                <span>Sarah Developer<i class="fas fa-times"></i></span>
                                <span>Php dev<i class="fas fa-times"></i></span>
                                <span>Php dev<i class="fas fa-times"></i></span>
                                <span>Php dev<i class="fas fa-times"></i></span> -->
                            </div>
                            <p>Press Enter or comma to add a tag</p>
                        </div>
                        <!-- post settings -->
                        <div class="new-post-input-container-settings">
                            <h2>Post Settings</h2>
                            <input type="checkbox" id="comments">
                            <label for="comments">Allow Comments</label><br>
                            <input type="checkbox" id="followers">
                            <label for="followers">Notufy my followers</label>

                            <div class="new-post-input-container">
                                <h3>Visibility</h3>
                                <select name="" id="">
                                    <option>Public (anyone can see)</option>
                                    <option>Group members only</option>
                                    <option>Private (only me)</option>
                                </select>
                            </div>
                        </div>
                        <div class="new-post-input-container">
                            <div class="input-buttons">
                                <button type="button" class="draft">Save Draft</button>
                                <button class="publish">Publish Post</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>


    <script>
        const imageDisplay = document.getElementById('selected-image');
        function loadUserImage(){
            document.getElementById('post-image').onchange = (event) =>{
                const file = event.target.files[0];
                if(file && file.type.startsWith('image/')){
                    const reader = new FileReader();
                    reader.onload = function(e){
                        
                        imageDisplay.src = e.target.result;
                        imageDisplay.style.display = 'block';
                    };
                    reader.readAsDataURL(file);
                }else{
                    imageDisplay.style.display='none';
                    imageDisplay.src='#';
                }

            }
        }


        const groupSelect = document.getElementById('group-select');
        const selectedGroupsContainer = document.getElementById('selected-groups');
        groupSelect.addEventListener('change', function() {
            if (this.value) {
                const groupName = this.options[this.selectedIndex].text;
                const groupId = this.value;
                
                // Check if group is already selected
                if (!document.querySelector(`[data-group-id="${groupId}"]`)) {
                    const groupTag = document.createElement('div');
                    groupTag.className = 'tag';
                    groupTag.dataset.groupId = groupId;
                    groupTag.innerHTML = `
                        ${groupName}
                        <span class="tag-remove" onclick="removeGroupTag('${groupId}')">
                            <i class="fas fa-times"></i>
                        </span>
                    `;
                    selectedGroupsContainer.appendChild(groupTag);
                }
                
                // Reset select
                this.value = '';
            }
        });

        function removeGroupTag(groupId) {
            const tag = document.querySelector(`[data-group-id="${groupId}"]`);
            if (tag) {
                tag.remove();
            }
        }




        const tagInput = document.getElementById('tag-input');
        const tagsDisplay = document.getElementById('tags-display');
        const tags = [];
        tagInput.addEventListener('keydown',function(e){
            if ((e.key === 'Enter' || e.key === ',') && this.value.trim()){
                e.preventDefault();
                const tagText = this.value.trim().replace(',','');

                if (tagText && tags.length < 5 && !tags.includes(tagText.toLowerCase())){
                    tags.push(tagText.toLowerCase());
                    renderTags();
                    this.value = '';
                }
            }
        })
        function renderTags() {
            tagsDisplay.innerHTML = '';
            tags.forEach(tag => {
                const tagElement = document.createElement('div');
                tagElement.className = 'tag';
                tagElement.innerHTML = `
                    ${tag}
                    <span class="tag-remove" onclick="removeTag('${tag}')">
                        <i class="fas fa-times"></i>
                    </span>
                `;
                tagsDisplay.appendChild(tagElement);
            });
        }
        function removeTag(tagToRemove) {
            const index = tags.indexOf(tagToRemove.toLowerCase());
            if (index !== -1) {
                tags.splice(index, 1);
                renderTags();
            }
        }
    </script>
    <script src="/app.js"></script>
</body>
</html>